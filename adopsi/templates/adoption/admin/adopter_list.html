{% extends "adoption/base_adoption.html" %}

{% block adoption_content %}
<div class="mb-16">

    <!-- Top Adopters Section -->
    <div class="bg-white border border-secondary-40 rounded-xl shadow p-8 mb-12">
        <h5 class="text-h4 text-natural font-header font-bold mb-6 text-left">
            Adopter Terbaik Tahun Ini
        </h5>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
            {% for adopter in adopters|slice:":5" %}
            <div class="flex flex-col items-center bg-secondary-40 rounded-lg py-6 px-4 shadow-sm">
                <i class="fas fa-crown text-accent-500 text-3xl mb-2"></i>
                <p class="font-semibold text-lg text-primary mb-1">{{ adopter.name }}</p>
                <p class="text-accent-500 font-bold text-xl tracking-wide">Rp{{ adopter.total_contribution|floatformat:0 }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- All Adopters Table -->
    <div class="bg-white border border-secondary-40 rounded-xl shadow overflow-hidden">
        <h5 class="text-h5 text-natural font-header font-semibold px-8 py-6 border-b border-secondary-40 text-left">
            Daftar Adopter
        </h5>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-secondary-40">
                <thead class="bg-secondary-20">
                    <tr>
                        <th class="px-8 py-4 text-left text-xs font-semibold text-primary uppercase tracking-wider">Nama Adopter</th>
                        <th class="px-8 py-4 text-left text-xs font-semibold text-primary uppercase tracking-wider">Total Kontribusi</th>
                        <th class="px-8 py-4 text-left text-xs font-semibold text-primary uppercase tracking-wider">Riwayat Adopsi</th>
                        <th class="px-8 py-4 text-left text-xs font-semibold text-primary uppercase tracking-wider">Aksi</th>
                    </tr>
                </thead>
                <tbody class="bg-white">
                    {% for adopter in adopters %}
                    <tr class="{% cycle '' 'bg-secondary-20' %} group hover:bg-secondary-40 transition">
                        <td class="px-8 py-4 whitespace-nowrap text-base text-primary font-medium">{{ adopter.name }}</td>
                        <td class="px-8 py-4 whitespace-nowrap text-base text-accent-500 font-bold">Rp{{ adopter.total_contribution|floatformat:0 }}</td>
                        <td class="px-8 py-4 whitespace-nowrap">
                            <a href="{% url 'adoption:adopter_history' adopter.id %}" class="inline-flex items-center text-accent-500 hover:text-accent-700 font-medium transition">
                                <i class="fas fa-search mr-2"></i>Lihat Detail
                            </a>
                        </td>
                        <td class="px-8 py-4 whitespace-nowrap">
                            <button class="inline-flex items-center text-red-500 hover:text-red-700 font-medium transition">
                                <i class="fas fa-trash-alt mr-2"></i>Hapus
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
