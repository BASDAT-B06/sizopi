{% extends "base.html" %}
{% load static %}

{% block meta %}
<title>Riwayat Pemberian Pakan</title>
{% endblock meta %}

{% block navbar %}
{% include "components/navbar.html" with is_logged_in=True user_role="penjaga_hewan" %}
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <h1 class="text-primary-100 text-xl font-bold mb-6">RIWAYAT PEMBERIAN PAKAN</h1>

    <p class="text-sm text-gray-600 mb-4">Penjaga Hewan: <span class="font-medium">{{ nama_penjaga }}</span></p>

    <div class="overflow-x-auto">
        <table class="min-w-full bg-white rounded-md shadow overflow-hidden">
            <thead>
                <tr>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Nama Individu (Hewan)
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Spesies
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Asal Hewan
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Tanggal Lahir
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Habitat
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Status Kesehatan
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Jenis Pakan
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Jumlah Pakan (gram)
                    </th>
                    <th
                        class="px-4 py-3 bg-primary-20 text-primary-100 text-xs font-medium uppercase tracking-wider text-left">
                        Jadwal
                    </th>
                </tr>
            </thead>
            <tbody class="divide-y divide-accent-50">
                {% for record in feeding_history %}
                <tr class="{% cycle 'hover:bg-accent-50' 'bg-secondary-20 hover:bg-secondary-40' %}">
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.nama_hewan }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.spesies }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.asal_hewan }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.tanggal_lahir|date:'Y-m-d' }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.habitat }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">
                        <span class="px-2 py-1 text-xs rounded-full font-medium">
                            {{ record.status_kesehatan }}
                        </span>
                    </td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.jenis_pakan }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.jumlah }}</td>
                    <td class="px-4 py-3 text-sm text-gray-800">{{ record.jadwal|date:'Y-m-d H:i:s' }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9" class="px-4 py-8 text-center text-gray-500">
                        Belum ada riwayat pemberian pakan.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock content %}